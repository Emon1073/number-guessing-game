<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Number Guessing Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <div class="container">
    <h1>Number Guessing Game</h1>

    <!-- DEFAULT SCREEN -->
    <section id="startMenu">
      <div class="menu">
        <button id="btnGoLogin" type="button">Login to your account</button>
        <button id="btnGoCreate" type="button">Create a new user account</button>
      </div>
      <div id="startMsg" class="msg"></div>
    </section>

    <!-- LOGIN PANEL -->
    <section id="loginPanel" class="hidden">
      <h2>Login</h2>
      <input id="loginName" type="text" placeholder="Enter your username" autocomplete="username">
      <input id="loginPass" type="password" placeholder="Enter your password" autocomplete="current-password">

      <div class="row">
        <button id="loginBtn" type="button">Login</button>
        <button id="goForgot" type="button">Forgot password</button>
        <button id="backFromLogin" type="button">Back</button>
      </div>
      <div id="loginMsg" class="msg"></div>
    </section>

    <!-- CREATE PANEL -->
    <section id="createPanel" class="hidden">
      <h2>Create an account</h2>
      <input id="createName" type="text" placeholder="Enter new username" autocomplete="username">
      <input id="createEmail" type="email" placeholder="Enter your email" autocomplete="email">
      <input id="createPass" type="password" placeholder="Create a password (min 6 chars)" autocomplete="new-password">

      <div class="row">
        <button id="createBtn" type="button">Create</button>
        <button id="backFromCreate" type="button">Back</button>
      </div>
      <div id="createMsg" class="msg"></div>
    </section>

    <!-- FORGOT PASSWORD: REQUEST TOKEN -->
    <section id="forgotPanel" class="hidden">
      <h2>Reset password</h2>
      <p class="help">
        Enter your account email. We will generate a reset token (demo: token will be shown).
      </p>

      <input id="forgotEmail" type="email" placeholder="Enter your email" autocomplete="email">

      <div class="row">
        <button id="requestResetBtn" type="button">Send reset token</button>
        <button id="backFromForgot" type="button">Back</button>
      </div>

      <div id="forgotMsg" class="msg"></div>

      <hr>

      <h3>Enter token & new password</h3>
      <input id="resetToken" type="text" placeholder="Paste reset token">
      <input id="resetNewPass" type="password" placeholder="New password (min 6 chars)" autocomplete="new-password">

      <div class="row">
        <button id="resetPassBtn" type="button">Update password</button>
      </div>

      <div id="resetMsg" class="msg"></div>
    </section>

    <!-- USER AREA -->
    <section id="userArea" class="hidden">
      <div class="top">
        <div>
          Welcome back <b id="playerName"></b> |
          Score: <b id="playerScore">0</b> |
          Games Played: <b id="playerGames">0</b>
        </div>
      </div>

      <!-- MENU -->
      <div id="userMenuButtons" class="menu">
        <button id="menuPlay" type="button">Play Game</button>
        <button id="menuLb" type="button">View Leaderboard</button>
        <button id="menuDelete" type="button">Delete User Account</button>
        <button id="menuExit" type="button">Exit Game</button>
      </div>

      <div id="toast"></div>

      <!-- LEADERBOARD PANEL -->
      <div id="lbPanel" class="panel hidden">
        <h2>Leaderboard</h2>

        <div class="lb-grid">
          <!-- LEFT: PLAYER LIST -->
          <div class="lb-left simple-list">
            <h3 class="lb-subtitle">Top Players</h3>
            <ol id="leaderboard" class="rank-list"></ol>
          </div>

          <!-- RIGHT: PERFORMANCE AREA -->
          <div class="lb-right">
            <h3 class="lb-subtitle" id="perfTitle">My Performance</h3>

            <div id="myStats" class="stats-grid"></div>

            <div class="chart-box">
              <h4>Win% vs Lose% Over Time</h4>
              <canvas id="pctChart" width="900" height="260"></canvas>
            </div>

            <div class="chart-box">
              <h4>Total Games & Average Time Over Time</h4>
              <canvas id="timeChart" width="900" height="260"></canvas>
            </div>
          </div>
        </div>

        <button id="closeLbBtn" type="button">Back to Menu</button>
      </div>

      <!-- GAME PANEL -->
      <div id="gamePanel" class="panel hidden">
        <button id="exitToMenuBtn" type="button">Exit to Menu</button>

        <h2>Choose difficulty level</h2>
        <div class="buttons">
          <button class="diff" type="button" data-d="easy">Easy</button>
          <button class="diff" type="button" data-d="medium">Medium</button>
          <button class="diff" type="button" data-d="hard">Hard</button>
          <button class="diff" type="button" data-d="extreme">Extreme</button>
        </div>

        <div id="rules"></div>

        <div class="guess-area">
          <input id="guessInput" type="number" placeholder="Your guess">
          <button id="guessBtn" type="button">Guess</button>
          <button id="forfeitBtn" type="button">Forfeit</button>
        </div>

        <div class="meta">
          <div>Remaining guesses: <span id="remaining">-</span></div>
          <div>Guess history: <span id="history">-</span></div>
        </div>
      </div>

      <!-- DELETE CONFIRM MODAL -->
      <div id="deleteModal" class="modal hidden">
        <div class="modal-box">
          <h3>Do you want to delete your account?</h3>
          <div class="modal-actions">
            <button id="confirmDeleteBtn" class="danger">Yes</button>
            <button id="cancelDeleteBtn">No</button>
          </div>
        </div>
      </div>

    </section>
  </div>

  <script src="/static/app.js" defer></script>
</body>
</html>
